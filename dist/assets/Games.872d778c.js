import{_ as b,o as e,c as n,d as t,a as v,A as u,r as h,e as L,n as x,k as l,g as a,F as c,h as g,w as f,t as p}from"./index.bcf9eaaf.js";const A={},C={class:"loader"},M=t("div",{class:"loader__loading"},null,-1),B=[M];function G(r,i){return e(),n("div",C,B)}const w=b(A,[["render",G]]),D="/robbs-frontend/assets/refresh.53b2f02b.svg",k="/robbs-frontend/assets/dice.ccb54345.svg",E={name:"games",components:{Loader:w},data(){return{reloadLoading:!1,loading:!0,error:!1,games:null}},methods:{mountedMethod(){v.get(u.getApiUrl()+"games",u.getAuthHeader()).then(r=>{console.log(r.data),this.games=r.data.games}).catch(r=>{console.log(r),this.error=!0,r.response.status}).finally(()=>{this.loading=!1,this.reloadLoading=!1})},refreshGames(){this.error=!1,this.reloadLoading=!0,this.mountedMethod()}},mounted(){this.mountedMethod()}},F={class:"main-header"},N=t("h1",{class:"main-title"},"Active",-1),S=t("img",{src:D,alt:"refresh"},null,-1),T=[S],V={class:"main-inner"},z={key:1,class:"notice"},H={key:2},U={key:0},W=t("h2",null,"My turn",-1),j={class:"game__button__title"},q={key:0,class:"game__button__my-turn",src:k,alt:"Dice"},I=t("h2",null,"Waiting",-1),J={class:"game__button__title"},K={key:0,class:"game__button__my-turn",src:k,alt:"Dice"};function O(r,i,P,Q,s,d){const y=h("Loader"),m=h("router-link");return e(),n(c,null,[t("div",F,[N,t("a",{href:"#",onClick:i[0]||(i[0]=L((...o)=>d.refreshGames&&d.refreshGames(...o),["prevent"])),class:x(["btn-reload",{disabled:s.loading,loading:s.reloadLoading}])},T,2)]),t("div",V,[s.loading||s.reloadLoading?(e(),l(y,{key:0})):a("",!0),s.error?(e(),n("div",z," Error :c")):a("",!0),!s.loading&&!s.error?(e(),n("div",H,[s.games.myGames||s.games.myTurnGames?(e(),n("div",U,[W,(e(!0),n(c,null,g(s.games.myTurnGames,(o,_)=>(e(),l(m,{to:{name:"game",params:{id:o.id}},key:_,class:"game__button"},{default:f(()=>[t("span",j,p(o.title),1),o.myTurn?(e(),n("img",q)):a("",!0)]),_:2},1032,["to"]))),128)),I,(e(!0),n(c,null,g(s.games.myGames,(o,_)=>(e(),l(m,{to:{name:"game",params:{id:o.id}},key:_,class:"game__button"},{default:f(()=>[t("span",J,p(o.title),1),o.myTurn?(e(),n("img",K)):a("",!0)]),_:2},1032,["to"]))),128))])):a("",!0)])):a("",!0)])],64)}const X=b(E,[["render",O]]);export{X as default};
